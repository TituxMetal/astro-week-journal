---
import { actions } from 'astro:actions'
import BaseLayout from '~/layouts/BaseLayout.astro'
const { session, user } = Astro.locals
---

<BaseLayout title='Home'>
  <h1 class='py-4 text-center text-4xl/relaxed font-bold'>Welcome to Astro Auth Starter</h1>
  {
    session ? (
      <>
        <h2 class='text-2xl/relaxed font-bold'>
          Happy to see you {user?.username} and welcome to the app!
        </h2>
        <p>
          <a href='/tasks'>Go to tasks</a>
        </p>
        <form method='POST' action={actions.logout}>
          <button>Logout</button>
        </form>
      </>
    ) : (
      <a href='/login'>Go to Login</a>
    )
  }
</BaseLayout>
